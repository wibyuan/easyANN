import matplotlib.pyplot as plt

# --- 数据解析 ---
# 将您提供的原始文本数据粘贴到这里
sift_raw_data = """
0:0
1:0
2:0
3:6
4:32
5:297
6:779
7:1612
8:3021
9:5052
10:7651
11:10288
12:13389
13:16387
14:19898
15:22830
16:25595
17:28108
18:29919
19:31430
20:32871
21:33877
22:34544
23:34488
24:34137
25:34334
26:33518
27:32712
28:31708
29:30688
30:29484
31:28339
32:27252
33:25800
34:24305
35:23068
36:21673
37:20327
38:19134
39:17859
40:16843
41:15797
42:14511
43:13353
44:12209
45:11451
46:10527
47:9730
48:9102
49:8292
50:7405
51:7055
52:6346
53:5804
54:5468
55:4999
56:4623
57:4091
58:3937
59:3722
60:3190
61:2984
62:2747
63:2623
64:2237
65:2100
66:1860
67:1837
68:1550
69:1425
70:1317
71:1232
72:1115
73:1025
74:963
75:881
76:785
77:727
78:665
79:649
80:541
81:507
82:461
83:393
84:394
85:350
86:348
87:285
88:260
89:242
90:219
91:189
92:196
93:164
94:147
95:116
96:123
97:118
98:100
99:82
100:94
101:74
102:69
103:72
104:68
105:51
106:49
107:44
108:33
109:43
110:46
111:36
112:31
113:30
114:35
115:23
116:20
117:15
118:24
119:16
120:13
121:15
122:9
123:20
124:15
125:9
126:16
127:4
128:6
129:9
130:10
131:10
132:8
133:7
134:4
135:3
136:1
137:2
138:4
139:2
140:6
141:5
142:1
143:12
144:3
145:5
146:4
147:3
148:4
149:10
150:4
151:2
152:4
153:2
154:3
155:2
156:1
157:5
158:1
159:3
160:2
161:2
162:3
163:2
164:1
165:2
166:2
167:2
168:2
169:3
170:1
171:1
172:2
173:0
174:1
175:0
176:1
177:2
178:1
179:0
180:2
181:1
182:2
183:0
184:2
185:1
186:1
187:0
188:0
189:0
190:0
191:1
192:0
193:1
194:1
195:0
196:0
197:0
198:1
199:1
200:1
201:0
202:0
203:1
204:1
205:1
206:1
207:0
208:1
209:0
210:0
211:0
212:0
213:0
214:0
215:0
216:2
217:1
218:2
219:0
220:0
221:0
222:0
223:1
224:0
225:0
226:0
227:0
228:0
229:0
230:0
231:0
232:0
233:0
234:0
235:0
236:0
237:0
238:0
239:0
240:0
241:0
242:0
243:0
244:0
245:0
246:0
247:0
248:0
249:0
250:0
251:0
252:0
253:0
254:0
255:0
256:0
"""

glove_raw_data = """
0:0
1:0
2:0
3:0
4:2
5:11
6:12
7:45
8:80
9:183
10:277
11:425
12:605
13:862
14:1174
15:1554
16:2037
17:2471
18:2999
19:3646
20:4280
21:4969
22:5623
23:6188
24:6840
25:7335
26:8155
27:8546
28:9391
29:9780
30:10392
31:10687
32:11190
33:11901
34:12099
35:12328
36:12893
37:13205
38:13459
39:13882
40:13991
41:14453
42:14629
43:15056
44:15228
45:15391
46:15672
47:15854
48:15838
49:16183
50:16181
51:16177
52:16195
53:16759
54:16480
55:16444
56:16333
57:16202
58:16279
59:16352
60:16087
61:15886
62:15758
63:15613
64:15423
65:15052
66:14925
67:14729
68:14270
69:14100
70:13724
71:13324
72:13121
73:12678
74:12805
75:12119
76:12222
77:11732
78:11449
79:11158
80:10885
81:10452
82:10161
83:10058
84:9726
85:9571
86:9261
87:8965
88:8823
89:8571
90:8295
91:8077
92:7751
93:7535
94:7385
95:7223
96:6947
97:6755
98:6569
99:6429
100:6280
101:5941
102:6034
103:5704
104:5494
105:5422
106:5452
107:5168
108:5079
109:4910
110:4701
111:4620
112:4597
113:4304
114:4285
115:4197
116:4169
117:3928
118:4039
119:3837
120:3819
121:3537
122:3513
123:3392
124:3148
125:3251
126:3067
127:3025
128:2968
129:2866
130:2855
131:2678
132:2682
133:2555
134:2568
135:2555
136:2433
137:2276
138:2240
139:2228
140:2233
141:2181
142:2112
143:2082
144:1926
145:1971
146:1845
147:1791
148:1755
149:1743
150:1596
151:1608
152:1584
153:1507
154:1405
155:1409
156:1405
157:1312
158:1294
159:1216
160:1201
161:1143
162:1156
163:1058
164:969
165:991
166:908
167:870
168:787
169:850
170:820
171:793
172:790
173:668
174:679
175:640
176:591
177:507
178:540
179:472
180:444
181:438
182:410
183:410
184:331
185:342
186:315
187:300
188:265
189:261
190:232
191:219
192:200
193:173
194:196
195:177
196:140
197:129
198:136
199:137
200:101
201:87
202:98
203:85
204:80
205:66
206:77
207:59
208:41
209:49
210:45
211:33
212:36
213:45
214:31
215:26
216:26
217:14
218:22
219:20
220:14
221:8
222:12
223:11
224:13
225:7
226:10
227:12
228:6
229:7
230:4
231:3
232:6
233:9
234:4
235:6
236:2
237:2
238:0
239:3
240:1
241:3
242:2
243:1
244:2
245:0
246:1
247:2
248:0
249:0
250:0
251:0
252:0
253:2
254:0
255:1
256:2
"""

def parse_degree_data(raw_data):
    """一个简单的解析器，用于将文本数据转换为度和计数的列表。"""
    degrees = []
    counts = []
    for line in raw_data.strip().split('\n'):
        if ':' in line:
            parts = line.split(':')
            degrees.append(int(parts[0]))
            counts.append(int(parts[1]))
    return degrees, counts

sift_degrees, sift_counts = parse_degree_data(sift_raw_data)
glove_degrees, glove_counts = parse_degree_data(glove_raw_data)

# --- 可视化 ---
# 创建一个包含两个子图的图表，一个用于SIFT，一个用于GLOVE
fig, (ax1, ax2) = plt.subplots(nrows=2, ncols=1, figsize=(15, 12))
fig.suptitle('Degree Distribution Comparison', fontsize=20)

# SIFT 数据集的可视化
ax1.bar(sift_degrees, sift_counts, color='dodgerblue', width=1.0)
ax1.set_title('SIFT Dataset', fontsize=16)
# ax1.set_xlabel('Degree', fontsize=12)
# ax1.set_ylabel('Number of Nodes', fontsize=12)
ax1.grid(axis='y', linestyle='--', alpha=0.7)
ax1.set_xlim(0, max(sift_degrees) + 1) # 设置x轴范围

# GLOVE 数据集的可视化
ax2.bar(glove_degrees, glove_counts, color='tomato', width=1.0)
ax2.set_title('GLOVE Dataset', fontsize=16)
# ax2.set_xlabel('Degree', fontsize=12)
# ax2.set_ylabel('Number of Nodes', fontsize=12)
ax2.grid(axis='y', linestyle='--', alpha=0.7)
ax2.set_xlim(0, max(glove_degrees) + 1) # 设置x轴范围

# 调整布局以防止标签重叠
plt.tight_layout(rect=[0, 0, 1, 0.96])

# 显示图表
plt.show()